<script lang="ts">
	import {type Readable} from 'svelte/store';
	import {format} from 'date-fns';

	import {type Community} from '$lib/vocab/community/community';
	import CommunityAvatar from '$lib/ui/CommunityAvatar.svelte';
	import CommunitySettingsHue from '$lib/ui/CommunitySettingsHue.svelte';

	export let community: Readable<Community>;
</script>

<div class="community-editor column">
	<div class="markup">
		<h2>Edit Community</h2>
		<section class="row" style:font-size="var(--font_size_xl)">
			<CommunityAvatar {community} />
		</section>
		<section>
			<p>created {format(new Date($community.created), 'PPPPp')}</p>
			{#if $community.updated !== null}
				<p>updated {format(new Date($community.updated), 'PPPPp')}</p>
			{/if}
		</section>
	</div>
	<section>
		<CommunitySettingsHue {community} />
	</section>
</div>

<style>
	.community-editor {
		display: flex;
		flex-direction: column;
		padding: var(--spacing_xl);
	}
	h2 {
		text-align: center;
	}
</style>
